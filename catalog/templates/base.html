{% extends 'index.html' %}

{% block subcats %}

<div class="column large-2">
    <div class="column">

        <ul>
            {% for size in product_size %}
            <li>
            {{ size }}
            </li>
            {% endfor %}
        </ul>


    </div>
    <div class="column">

        <ul>
            {% for man in product_manufacturer %}
            <li>{{ man }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="column">
        <ul>
            {% for mat in product_material %}
            <li>{{ mat }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="column">
        <ul>
            {% for color in product_color %}
            <li>{{ color }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="column">
        <ul>
            {%  for model in product_model %}
            <li>{{ model }}</li>
            {% endfor %}
        </ul>
    </div>

</div>

<div class="column large-10">
    {% if subcat %}
    <div class="row column menu-centered">
        <ul class="menu">
        {% for cats in  subcat%}
            <li>
                <a href="{% url "categories" cats.id %}"><img src="/media/{{ cats.category_image }}" alt="{{ cats.category_name }}"></a>
            </li>
        {% endfor %}
        </ul>
    </div>
    {% endif %}
    <div class="row column">
        {#    Менюшка для выбора сетки/списка    #}
        <div class="column large-1 " style="padding-left: 10px; padding-right: 10px">
            <a id="view_0" class="fi-thumbnails view" href="{% url 'categories' category.id %}?view=0"></a>
            <a id="view_1" class="fi-list view" href="{% url 'categories' category.id %}?view=1"></a>
        </div>
        {#    Менюшка для выбора метода сортировки выводимых товаров    #}
        <div class="column large-3 large-offset-6 " style="padding-left: 10px; padding-right: 10px">
            <p class="column large-4 sort">Сортировка: </p>
            <select class="column large-8 sort" onchange="location = this.value;" >
                {% for opt in sort_options %}
                <option id="sel_{{ forloop.counter0 }}" value="{% url 'categories' category.id %}?sort={{ forloop.counter0 }}">{{ opt }}</option>
                {% endfor %}
            </select>
        </div>
        {#    Менюшка для выбора количества выводимых товаров    #}
        <div class="column large-2" style="padding-left: 10px; padding-right: 10px; ">
            <p class="column large-5 sort">Показать: </p>
            <select class="column large-4 end sort" onchange="location = this.value;" >
                {% for limit in limit_option %}
                <option id="lim_{{ limit }}" value="{% url 'categories' category.id %}?limits={{ limit }}">{{ limit }}</option>
                {% endfor %}
            </select>
        </div>
    </div>

    {#  Вывод товаров  #}
    {% block products_view %}{% endblock %}
    {#  Пагинация  #}
    {% if paginator.num_pages > 1 %}
    <div class="row column">
        <ul class="pagination" role="navigation" aria-label="Pagination">
        {% if page_obj.has_previous %}
            <li><a href="{% url 'categories' category.id %}?page={{ page_obj.previous_page_number }}"><</a> </li>
        {% endif %}
            {% for pn in paginator.page_range %}

            {% if page_obj.number != pn %}
                <li><a href="{% url 'categories' category.id %}?page={{ pn }}">{{ pn }}</a></li>
            {% else %}
                <li class="current">{{ pn }}</li>
            {% endif %}

            {% endfor %}
        {% if page_obj.has_next %}
            <li><a href="{% url 'categories' category.id %}?page={{ page_obj.next_page_number }}">></a> </li>
        {% endif %}
        </ul>
    </div>
    {% endif %}
</div>

{% endblock %}


